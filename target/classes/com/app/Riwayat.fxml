<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/17.0.2-ea" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.app.Riwayat.tugas.controller.MainController"
      style="-fx-background-color: linear-gradient(to bottom, #a7c9ecff, #a7c9ecff); -fx-font-family: 'SF Pro Text', -apple-system, sans-serif;"
      spacing="0">
    
    <!-- STATUS BAR - Biru iOS style dengan gradien -->
    <HBox style="-fx-background-color: linear-gradient(to right, #e0f2ff, #d0e7ff); 
                 -fx-padding: 10px 15px 8px 15px; 
                 -fx-pref-height: 40px; 
                 -fx-alignment: center;" 
          alignment="CENTER">
        <Label fx:id="statusTimeLabel" text="19:02" 
               style="-fx-font-size: 16px; 
                      -fx-font-weight: 600; 
                      -fx-text-fill: #1a5fb4; 
                      -fx-padding: 0 10px;
                      -fx-font-family: 'SF Pro Display', -apple-system, sans-serif;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <HBox alignment="CENTER_RIGHT" spacing="12">
            <Label text="ðŸ“¶" 
                   style="-fx-text-fill: #1a5fb4; 
                          -fx-font-size: 14px; 
                          -fx-font-weight: 500; 
                          -fx-padding: 0 2px;"/>
            <Label text="ðŸ›œ" 
                   style="-fx-text-fill: #1a5fb4; 
                          -fx-font-size: 14px; 
                          -fx-font-weight: 500; 
                          -fx-padding: 0 2px;"/>
            <Label text="ðŸ”‹" 
                   style="-fx-text-fill: #1a5fb4; 
                          -fx-font-size: 13px; 
                          -fx-font-weight: 500; 
                          -fx-padding: 0 2px;"/>
        </HBox>
    </HBox>
    
    <!-- HEADER DENGAN TOMBOL BACK -->
    <HBox style="-fx-background-color: linear-gradient(to right, #e0f2ff, #d0e7ff); 
                 -fx-padding: 12px 16px; 
                 -fx-border-color: #c2e0ff; 
                 -fx-border-width: 0 0 1.5px 0; 
                 -fx-alignment: center; 
                 -fx-spacing: 10;" 
          alignment="CENTER" spacing="10">
        
        <!-- TOMBOL BACK -->
        <Button onAction="#goBack" 
                style="-fx-background-color: #9fd7ff; 
                       -fx-border-color: #1378b7; 
                       -fx-border-radius: 12px; 
                       -fx-background-radius: 12px; 
                       -fx-cursor: hand; 
                       -fx-padding: 8px; 
                       -fx-min-width: 40px; 
                       -fx-min-height: 40px; 
                       -fx-pref-height: 40px;
                       -fx-effect: dropshadow(gaussian, #d0e7ff, 3, 0.2, 0, 1);">
            <graphic>
                <Label text="â†" 
                       style="-fx-font-size: 18px; 
                              -fx-text-fill: #13416c; 
                              -fx-font-weight: bold; 
                              -fx-alignment: center;"/>
            </graphic>
        </Button>
        
        <!-- JUDUL -->
        <Region HBox.hgrow="ALWAYS"/>
        <Label text="ðŸ“‹ Riwayat Transaksi" 
               style="-fx-font-size: 24px; 
                      -fx-font-weight: 700; 
                      -fx-text-fill: #1a5fb4; 
                      -fx-alignment: center;
                      -fx-font-family: 'SF Pro Display', -apple-system, sans-serif;"/>
        <Region HBox.hgrow="ALWAYS"/>
        
        <!-- SPACER KANAN -->
        <Region style="-fx-pref-width: 40px;"/>
        
    </HBox>

    <!-- SUBHEADER -->
    <VBox style="-fx-background-color: linear-gradient(to bottom, #f8f3f3ff, #f8f3f3ff); 
                 -fx-padding: 16px 0 0 0; 
                 -fx-border-color: #f8f3f3ff; 
                 -fx-border-width: 0;" 
          spacing="8">
        <Label text="ðŸ“Š Semua transaksi" 
               style="-fx-font-size: 18px; 
                      -fx-text-fill: #232323; 
                      -fx-font-weight: 600;
                      -fx-padding: 0 16px 12px 16px;
                      -fx-font-family: 'SF Pro Display', -apple-system, sans-serif;"/>
        
        <!-- FILTER BULAN - SCROLL HORIZONTAL -->
        <HBox style="-fx-padding: 0 16px 16px 16px; 
                     -fx-background-color: #f8f3f3ff;
                     -fx-alignment: center-left;
                     -fx-min-height: 50px;
                     -fx-max-height: 50px;
                     -fx-pref-height: 50px;">
            <ScrollPane fx:id="monthScrollPane"
                       hbarPolicy="NEVER"
                       vbarPolicy="NEVER"
                       fitToHeight="true"
                       pannable="true"
                       style="-fx-background-color: #bdddffff; 
                              -fx-border-color: #bdddffff; 
                              -fx-padding: 0;
                              -fx-background-insets: 0;
                              -fx-min-height: 50px;
                              -fx-pref-height: 50px;
                              -fx-max-height: 50px;">
                
                <content>
                    <HBox fx:id="monthFilterContainer" 
                          style="-fx-spacing: 8px; 
                                 -fx-padding: 4px 0; 
                                 -fx-alignment: center-left;
                                 -fx-background-color: transparent;
                                 -fx-min-width: 1020px;"
                          alignment="CENTER_LEFT">
                        <!-- ToggleButtons akan ditambahkan secara dinamis -->
                    </HBox>
                </content>
            </ScrollPane>
        </HBox>
    </VBox>
    
    <!-- AREA KONTEN UTAMA -->
    <VBox VBox.vgrow="ALWAYS" 
          style="-fx-background-color: #c5e2ffff;">
        <!-- DAFTAR TRANSAKSI -->
        <ScrollPane fitToWidth="true" 
                    hbarPolicy="NEVER" 
                    vbarPolicy="AS_NEEDED"
                    style="-fx-background-color: #f5faff; 
                           -fx-border-color: #f5faff; 
                           -fx-padding: 0;
                           -fx-background-insets: 0;"
                    VBox.vgrow="ALWAYS">
            <content>
                <VBox fx:id="transactionContainer" 
                      style="-fx-background-color: #f5faff; 
                             -fx-border-color: #f5faff; 
                             -fx-padding: 16px; 
                             -fx-spacing: 12px;"
                      spacing="12">
                    <!-- Content akan diisi dinamis -->
                </VBox>
            </content>
        </ScrollPane>
    </VBox>
</VBox>